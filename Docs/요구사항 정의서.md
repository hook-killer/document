# 요구사항 정의서 및 기능 명세서

## Index

- [요구사항 정의서 및 기능 명세서](#요구사항-정의서-및-기능-명세서)
  - [Index](#index)
  - [기술 스터디](#기술-스터디)
  - [공통기능](#공통기능)
    - [헤더](#헤더)
    - [푸터](#푸터)
  - [메인페이지](#메인페이지)
  - [사용자](#사용자)
    - [회원가입](#회원가입)
    - [로그인](#로그인)
    - [마이페이지](#마이페이지)
  - [게시판](#게시판)
    - [게시물 등록](#게시물-등록)
    - [게시판 조회-리스트](#게시판-조회-리스트)
    - [게시판 조회 - 단건](#게시판-조회---단건)
    - [게시물 수정](#게시물-수정)
    - [게시물 삭제](#게시물-삭제)
    - [댓글](#댓글)
  - [공지사항](#공지사항)
    - [공지사항 작성](#공지사항-작성)
    - [공지사항 리스트 조회](#공지사항-리스트-조회)
    - [공지사항 세부 조회](#공지사항-세부-조회)
    - [공지사항 수정](#공지사항-수정)
  - [계정관리](#계정관리)
    - [관리자 계정관리](#관리자-계정관리)
      - [계정조회 리스트 페이지](#계정조회-리스트-페이지)
    - [일반사용자 계정관리](#일반사용자-계정관리)
      - [회원 리스트 조회](#회원-리스트-조회)
      - [상세 페이지](#상세-페이지)

## 기술 스터디

> [!NOTE]
> 프로젝트에 사용할 기술에 대한 선수학슥ㅂ이 필요합니다

- BackEnd
  - Spring Boot
  - Spring Data JPA
- Front
  - React

## 공통기능

### 헤더

> [!NOTE]
> 종원담당, 검색바만 세환 담당

- 로고
  - 클릭시 메인페이지 이동
- 게시판 이동 버튼
  - 클릭시 해당 이름에 맞는 게시판으로 이동해야 한다.
- 공지사항 버튼
  - 클릭시 공지사항 페이지 게시판으로 이동해야 한다.
- 언어 변경
  - 언어를 변경시 페이지의 모든 영역의 언어가 변경되어야 한다.
- 검색바
  - 검색결과가 검색바 하단에 출력되어야 한다.
  - 검색바에서 Enter기입시 검색결과 페이지로 이동해야 한다.
- 로그인 버튼
  - 로그인을 하지 않은 경우 출력되어야 한다.
  - 클릭시 로그인 페이지로 이동해야 한다.
- 마이페이지 버튼
  - 로그인시 출력되어야 한다.
  - 클릭시 마이페이지 버튼으로 이동한다.
- 관리자페이지 이동
  - 로그인 사용자가 관리자인 경우 출력되어야 한다.
  - 클릭시 관리자 멤버관리 페이지로 이동한다.

### 푸터

> [!NOTE]
> 종원담당

- 프로젝트 정보
- 팀멤버 깃허브 링크페이지 이동
- 공지사항 이동

---

## 메인페이지

> [!NOTE]
> 종원담당

- 각 게시판(한,중,일) 게시판의 인기 게시물 출력
  - 게시물은 최근 1주일중 가장 Like를 많이 받은 순서대로 나열한다.

---

## 사용자

### 회원가입

> [!NOTE]
> 재운, 세환 담당

- 기록될 필드값은 다음과 같다.
  - 닉네임
  - 이메일
  - 비밀번호
  - 프로필 사진
- 회원가입 페이지에서 폼작성 완료 후 가입 성공시 사용자 이메일로 인증 메일을 발송한다.
- 소셜로 가입도 가능하게 ( 어떤데이터를 받아오는지? )
- 소셜가입시 기본 닉네임은 받아온 이름으로 적용한다.
- 회원가입 페이지

### 로그인

> [!NOTE]
> 재운, 세환 담당

- SpringSecurity + JWT + OAuth2 적용 (구글, 네이버, 카카오)
- 로그인 페이지

### 마이페이지

> [!NOTE]
> 진석, 정훈 담당

- 사용자 정보를 변경 할 수 있다.
  - 프로필 이미지만 따로 변경가능하다.
  - 이외 정보의 경우 수정하기 버튼을 통해 출력되는 모달창에서 정보수정이 가능하다.
    - 키다운 이벤트를 활용해 비밀번호 중복확인, 닉네임 중복확인을 진행한다.
- 사용자가 여태 작성한 게시물, 댓글, 좋아요를 누른 게시물의 확인이 가능하다
  - 버튼을 통해서 항목별로 확인이 가능하다.

---

## 게시판

> [!NOTE]
> 진석, 정훈 담당

### 게시물 등록

- ReactQuill 에디터를 사용해 게시물의 내용을 HTML로 받는다.
- 게시물을 등록시 원본언어를 선택한다.
  - DB등록시 한개의 트랜잭션으로 타 3개의 언어도 함께 저장하며, 실패시 모두 롤백 처리한다.
  - 게시물이 올라가는 게시판은 사용자가 새글작성하기 버튼을 누른 게시판으로 올라가도록 한다.

### 게시판 조회-리스트

- 상단에 선택된 선택된 언어를 중심으로 페이지 언어가 번역된다.
- 게시물이 페이지네이션으로 분할되어 있다.

### 게시판 조회 - 단건

- 상단에 선택된 선택된 언어를 중심으로 페이지 언어가 번역된다.
- 좋아요를 누른적이 없으면 좋아요버튼을, 누른적이 존재하면 좋아요 취소버튼을 놓는다.
- 작성자 또는 관리자인 경우에만 수정 또는 삭제 버튼을 렌더링 한다.
- 댓글을 작성, 확인 할 수 있는 컴포넌트를 배치한다.

### 게시물 수정

- ReactQuill 에디터를 사용해 게시물의 내용을 HTML로 받는다.
- 제목, 내용중 수정된 내용만 변경해서 DB에 반영한다.
  - 둘다 수정된경우 둘다 수정을 진행한다.
  - 작성자 또는 관리자만 수정이 가능하다.

### 게시물 삭제

- 작성자 또는 관리자만 게시물의 삭제가 가능하다.
- 실제 Delete쿼리는 발행하지 않으며 Status만 변경한다.

### 댓글

- 댓글 작성시에도 4개국어로 동시에 번역한다.
- 로그인한 사용자만 댓글의 작성이 가능하다.
- 작성자 또는 ㄴ관리자만이 댓글의 수정과 삭제가 가능하다.

---

## 공지사항

> 해당 기능의 담당은 모두 근우

💡 리스트 조회, 세부 조회페이지 두개는 일반 사용자, 관리자 모두 사용이 가능하다.

### 공지사항 작성

💡 해당 페이지는 관리자만 사용가능하다

- 작성 폼 필드
  - 제목
  - 내용
    - 에디터를 활용한다 (React-Quill)
  - 첨부파일
- 게시물 등록시
  - 4개언어 번역해서 담는다

---

### 공지사항 리스트 조회

💡 해당 페이지는 관리자, 사용자 모두 사용이 가능하나 관리자만 사용가능한 기능이 별도 존재한다.

- 로그인한 사용자의 언어에 맞춰 번역된 내용으로 표현
- 리스트 테이블 출력 필드
  - 게시글 번호
  - 제목
  - 작성일
- 페이지네이션
  - 조회 사이즈 드롭다운으로 조절
- **관리자 전용기능**
  - 공지사항 새 글 작성 버튼

---

### 공지사항 세부 조회

💡 해당 페이지는 관리자, 사용자 모두 사용이 가능하나 관리자만 사용가능한 기능이 별도 존재한다.

- 표현할 필드
  - 번호
  - 제목
  - 내용
    - 에디터에 저장된 HTML그대로 인풋을 넣는다.
  - 첨부파일
- 목록 이동
- **관리자 전용 기능**
  - 공지사항 게시물 삭제
  - 공지사항 게시물 수정

---

### 공지사항 수정

💡 해당 페이지는 관리자만 사용가능하다

- 수정 폼 필드
  - 제목
  - 내용
    - 에디터를 활용한다 (React-Quill)
  - 첨부파일 삭제 또는 추가
- 게시물 수정시
  - 입력한 언어 제외 3개언어 번역해서 담는다
  - 내용이 바뀐 항목만 다시 번역해서 수정한다
    - 제목만 변경시 제목만 수정
    - 내용만 변경시 내용만 수정
    - 변경 내용이 없는 경우에는 번역도, 수정도 하지 않고 리스트로 이동

## 계정관리

💡 해당 페이지는 관리자만 사용가능하다

### 관리자 계정관리

#### 계정조회 리스트 페이지

- 관리자명, 닉네임, Email(ID)만 리스트로 출력된다
- 계정 생성 및 계정 생성 페이지 이동
- 상세페이지는 존재하지 않는다
- 계정 삭제 버튼
  - 버튼 클릭시 실제 Delete는 이뤄지지 않고, Delete컬럼을 변경한다.
  - 관리자 계정이 하나인 경우 삭제 불가하도록.
- 페이지네이션은 굳이 안하는걸로

---

### 일반사용자 계정관리

#### 회원 리스트 조회

- 검색 필터 기능
  - 닉네임
  - 이메일 (Optional)
- 페이지네이션
  - 조회 리스트 사이즈 조절
- 조회 테이블
  - 출력 필드 목록
    - 닉네임
    - 이메일
    - 설정 국가
    - 계정생성
  - 리스트 클릭시 해당 사용자의 상세 페이지 Redirect
  - 삭제된 계정은 목록에서 조회되지 않는다.

---

#### 상세 페이지

- 닉네임과 Email계정 표시
- 게시물 또는 댓글 삭제
  - 상단에 버튼구현 및
  - 클릭 이벤트 발생시 하단에 체크된 리스트항목에 대해서 삭제 이벤트 실행
- 게시글 / 댓글 토글 버튼
  - Default로 게시글로 설정
  - 토글 이벤트에 따라 하단의 리스트 항목에 대한 리스트 내용 변경
- 목록 (게시글 /댓글 토글 버튼에 따른 변경)
  - 공통
    - 작성일 표시
    - 게시글 / 댓글 삭제할 수 있도록 체크박스 구현
  - 게시글
    - 제목만 표시
    - 제목을 클릭시 게시글을 새탭으로 띄운다
  - 댓글
    - 내용 전체를 표시
- 페이지네이션
  - 조회 리스트 사이즈 조절(게시물 댓글에 대한)
